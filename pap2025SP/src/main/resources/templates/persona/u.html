<div class="container">
    <h1>Editar persona</h1>

    <form action="/persona/u" method="post">

        <input type="hidden" name="id" th:value="${persona.id}" />

        <label for="idNombre">Nombre</label>
        <input id="idNombre" type="text" name="nombre" autofocus="autofocus" th:value="${persona.nombre}"/>
        <br />

        <label for="idApe">Apellido</label>
        <input id="idApe" type="text" name="apellido" th:value="${persona.apellido}"/>
        <br />

        <fieldset>
            <legend>País de nacimiento</legend>
            <select name="idPaisNacimiento">
                <option th:each=" pais : ${paises}" th:text="${pais.nombre}" th:value="${pais.id}"  
                    th:selected="${ pais.id == persona.nace?.id }" />
            </select>
        </fieldset>

        <fieldset>
            <legend>País de residencia</legend>
            <select name="idPaisResidencia">
                <option th:each=" pais : ${paises}" th:text="${pais.nombre}" th:value="${pais.id}" 
                th:selected="${ pais.id == persona.vive?.id }" 
                />
            </select>
        </fieldset>

        <fieldset>
            <legend>Aficiones</legend>

            <th:block th:each="aficion : ${aficiones}">
                <input type="checkbox" th:id="|idafg-${aficion.id}|" th:value="${aficion.id}" name="idAfG[]"
                th:checked="${ persona.gustos.contains(aficion)} "
                />
                <label th:for="|idafg-${aficion.id}|" th:text="${aficion.nombre}"/>
            </th:block>
        </fieldset>

        <fieldset>
            <legend>Aversiones</legend>

            <th:block th:each="aficion : ${aficiones}">
                <input type="checkbox" th:id="|idafo-${aficion.id}|" th:value="${aficion.id}" name="idAfO[]"
                th:checked="${ persona.odios.contains(aficion)} "
                />
                <label th:for="|idafo-${aficion.id}|" th:text="${aficion.nombre}"/>
            </th:block>
        </fieldset>

        <input type="submit" />
        <br />
    </form>

</div>