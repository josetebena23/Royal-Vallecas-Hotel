<style>
    .carousel-container {
        position: relative;
        max-width: 250px;
        overflow: hidden;
    }

    .carousel-images {
        display: flex;
        transition: transform 0.3s ease;
    }

    .carousel-images img {
        flex-shrink: 0;
        width: 250px;
        height: 250px;
        user-select: none;
    }

    .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(30, 61, 89, 0.7);
        color: white;
        border: none;
        padding: 4px 10px;
        cursor: pointer;
        font-size: 18px;
        border-radius: 3px;
        user-select: none;
    }

    .carousel-btn.prev {
        left: 5px;
    }

    .carousel-btn.next {
        right: 5px;
    }
</style>

<!-- Sección de características del hotel -->
<section style="background-color: #f9f9f9; padding: 40px 20px;">
    <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
        <h2 style="color: #1e3d59; margin-bottom: 20px;">¿Por qué elegirnos?</h2>
        <p style="color: #555; font-size: 18px; margin-bottom: 30px;">
            En Royal Vallecas Hotel, te ofrecemos todo lo que necesitas para una experiencia inolvidable.
        </p>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 40px;">
            <div style="max-width: 220px; text-align: center;">
                <img src="/img/icons/icon-wifi.png" alt="Wifi gratis" width="60" style="margin-bottom: 10px;">
                <h4 style="color: #cda34f;">Wi-Fi Gratis</h4>
                <p style="color: #666;">Conéctate en todo el hotel con alta velocidad.</p>
            </div>
            <div style="max-width: 220px; text-align: center;">
                <img src="/img/icons/icon-desayuno.png" alt="Desayuno incluido" width="60" style="margin-bottom: 10px;">
                <h4 style="color: #cda34f;">Desayuno Incluido</h4>
                <p style="color: #666;">Empieza tu día con energía y sabor.</p>
            </div>
            <div style="max-width: 220px; text-align: center;">
                <img src="/img/icons/icon-parking.png" alt="Parking" width="60" style="margin-bottom: 10px;">
                <h4 style="color: #cda34f;">Parking Privado</h4>
                <p style="color: #666;">Aparca sin preocupaciones durante tu estancia.</p>
            </div>
            <div style="max-width: 220px; text-align: center;">
                <img src="/img/icons/icon-gym.png" alt="Gimnasio" width="60" style="margin-bottom: 10px;">
                <h4 style="color: #cda34f;">Gimnasio 24h</h4>
                <p style="color: #666;">Mantente en forma con nuestro equipamiento moderno.</p>
            </div>
        </div>
    </div>
</section>


<div id="habitaciones-individuales" class="anchor-offset"></div>

<section class="habitaciones-section">

    <!-- Habitaciones Individuales -->
    <fieldset>
        <legend><strong>Habitaciones Individuales</strong></legend>
        <table id="tabla-individual" class="display">
            <thead>
                <tr>
                    <th style="background-color: transparent;">
                    <th style="background-color: transparent;"></th>
                    <th>Nombre</th>
                    <th>Capacidad</th>
                    <th>Precio</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="hab : ${habitaciones}" th:if="${hab.tipo.name() == 'INDIVIDUAL'}">
                    <td>
                        <div class="carousel-container" style="max-width: 250px; position: relative; overflow: hidden;">
                            <div class="carousel-images" style="display: flex; transition: transform 0.3s ease;">
                                <img th:if="${#lists.isEmpty(hab.imagenes)}" th:src="@{/img/habitacion-default.jpg}"
                                    alt="Imagen por defecto" width="250" style="flex-shrink: 0;" />
                                <img th:each="img : ${hab.imagenes}" th:src="@{${img.url}}" alt="Imagen habitación"
                                    width="250" style="flex-shrink: 0;" />
                            </div>
                            <button class="carousel-btn prev" type="button" aria-label="Anterior">&lt;</button>
                            <button class="carousel-btn next" type="button" aria-label="Siguiente">&gt;</button>
                        </div>
                    </td>
                    <td th:text="${hab.descripcion}"></td>
                    <td th:text="${hab.capacidad} + ' personas'"></td>
                    <td th:text="${hab.precio} + ' €/noche'"></td>
                </tr>
            </tbody>
        </table>
    </fieldset>

    <!-- Habitaciones Dobles -->
    <fieldset>
        <legend><strong>Habitaciones Dobles</strong></legend>
        <table id="tabla-doble" class="display">
            <thead>
                <tr>
                    <th style="background-color: transparent;">
                    <th style="background-color: transparent;"></th>
                    <th>Nombre</th>
                    <th>Capacidad</th>
                    <th>Precio</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="hab : ${habitaciones}" th:if="${hab.tipo.name() == 'DOBLE'}">
                    <td>
                        <div class="carousel-container" style="max-width: 250px; position: relative; overflow: hidden;">
                            <div class="carousel-images" style="display: flex; transition: transform 0.3s ease;">
                                <img th:if="${#lists.isEmpty(hab.imagenes)}" th:src="@{/img/habitacion-default.jpg}"
                                    alt="Imagen por defecto" width="250" style="flex-shrink: 0;" />
                                <img th:each="img : ${hab.imagenes}" th:src="@{${img.url}}" alt="Imagen habitación"
                                    width="250" style="flex-shrink: 0;" />
                            </div>
                            <button class="carousel-btn prev" type="button" aria-label="Anterior">&lt;</button>
                            <button class="carousel-btn next" type="button" aria-label="Siguiente">&gt;</button>
                        </div>
                    </td>
                    <td th:text="${hab.descripcion}"></td>
                    <td th:text="${hab.capacidad} + ' personas'"></td>
                    <td th:text="${hab.precio} + ' €/noche'"></td>
                </tr>
            </tbody>
        </table>
    </fieldset>

    <!-- Suites -->
    <fieldset>
        <legend><strong>Suites</strong></legend>
        <table id="tabla-suite" class="display">
            <thead>
                <tr>
                    <th style="background-color: transparent;">
                    <th style="background-color: transparent;">
                    <th>Nombre</th>
                    <th>Capacidad</th>
                    <th>Precio</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="hab : ${habitaciones}" th:if="${hab.tipo.name() == 'SUITE'}">
                    <td>
                        <div class="carousel-container" style="max-width: 250px; position: relative; overflow: hidden;">
                            <div class="carousel-images" style="display: flex; transition: transform 0.3s ease;">
                                <img th:if="${#lists.isEmpty(hab.imagenes)}" th:src="@{/img/habitacion-default.jpg}"
                                    alt="Imagen por defecto" width="250" style="flex-shrink: 0;" />
                                <img th:each="img : ${hab.imagenes}" th:src="@{${img.url}}" alt="Imagen habitación"
                                    width="250" style="flex-shrink: 0;" />
                            </div>
                            <button class="carousel-btn prev" type="button" aria-label="Anterior">&lt;</button>
                            <button class="carousel-btn next" type="button" aria-label="Siguiente">&gt;</button>
                        </div>
                    </td>
                    <td th:text="${hab.descripcion}"></td>
                    <td th:text="${hab.capacidad} + ' personas'"></td>
                    <td th:text="${hab.precio} + ' €/noche'"></td>
                </tr>
            </tbody>
        </table>
    </fieldset>

</section>
<div style="text-align: center; margin-top: 20px;">
    <a href="/habitacion/todas" class="ver-mas-btn">Ver más habitaciones</a>
</div>

<!-- Contacto -->
<section id="contacto" class="contacto-section">
    <h3>Contacto</h3>
    <div class="contacto-container">
        <div class="contacto-info">
            <h4>Información de contacto</h4>
            <p><strong>Dirección:</strong> Calle Vallecas, 123, 28051 Madrid</p>
            <p><strong>Teléfono:</strong> +34 912 345 678</p>
            <p><strong>Email:</strong> info@royalvallecashotel.com</p>
            <p><strong>Horario:</strong> Recepción 24 horas</p>
        </div>

        <form class="contacto-form">
            <h4>Envíanos un mensaje</h4>
            <div class="form-group">
                <input type="text" placeholder="Nombre" required />
            </div>
            <div class="form-group">
                <input type="email" placeholder="Email" required />
            </div>
            <div class="form-group">
                <input type="tel" placeholder="Teléfono" />
            </div>
            <div class="form-group">
                <textarea placeholder="Tu mensaje" rows="5" required></textarea>
            </div>
            <button type="submit">Enviar mensaje</button>
        </form>
    </div>
</section>

<!-- Zona de Administración -->
<section style="padding: 30px; text-align: center;">
    <h3 style="color: #1e3d59;">Zona de Administración</h3>
    <form action="/usuario/r" style="display: inline-block; margin: 10px;">
        <input type="submit" class="auth-btn" value="Gestión de Usuarios" />
    </form>
    <form action="/habitacion/r" style="display: inline-block; margin: 10px;">
        <input type="submit" class="auth-btn" value="Gestión de Habitaciones" />
    </form>
    <form action="/reserva/r" style="display: inline-block; margin: 10px;">
        <input type="submit" class="auth-btn" value="Gestión de Reservas" />
    </form>
</section>

<script>
    document.querySelectorAll('.carousel-container').forEach(carousel => {
        const images = carousel.querySelector('.carousel-images');
        const prevBtn = carousel.querySelector('.carousel-btn.prev');
        const nextBtn = carousel.querySelector('.carousel-btn.next');
        const imageCount = images.children.length;
        let index = 0;

        function updateCarousel() {
            images.style.transform = `translateX(${-index * 250}px)`;
        }

        prevBtn.addEventListener('click', () => {
            index = (index - 1 + imageCount) % imageCount;
            updateCarousel();
        });

        nextBtn.addEventListener('click', () => {
            index = (index + 1) % imageCount;
            updateCarousel();
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</body>